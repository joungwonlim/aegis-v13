"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[5521],{3433(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>a,frontMatter:()=>d,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"guide/api/portfolio-api","title":"Portfolio API","description":"S5 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uad6c\uc131 API","source":"@site/docs/guide/api/portfolio-api.md","sourceDirName":"guide/api","slug":"/guide/api/portfolio-api","permalink":"/aegis-v13/docs/guide/api/portfolio-api","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Portfolio API","description":"S5 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uad6c\uc131 API"},"sidebar":"guideSidebar","previous":{"title":"Selection API","permalink":"/aegis-v13/docs/guide/api/selection-api"},"next":{"title":"Execution API","permalink":"/aegis-v13/docs/guide/api/execution-api"}}');var s=i(4848),r=i(8453);const d={sidebar_position:4,title:"Portfolio API",description:"S5 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uad6c\uc131 API"},l="Portfolio API",o={},c=[{value:"\uc5d4\ub4dc\ud3ec\uc778\ud2b8 \ubaa9\ub85d",id:"\uc5d4\ub4dc\ud3ec\uc778\ud2b8-\ubaa9\ub85d",level:2},{value:"GET /portfolio/target",id:"get-portfoliotarget",level:2},{value:"Request",id:"request",level:3},{value:"Query Parameters",id:"query-parameters",level:3},{value:"Response",id:"response",level:3},{value:"GET /portfolio/holdings",id:"get-portfolioholdings",level:2},{value:"Request",id:"request-1",level:3},{value:"Response",id:"response-1",level:3},{value:"GET /portfolio/diff",id:"get-portfoliodiff",level:2},{value:"Request",id:"request-2",level:3},{value:"Response",id:"response-2",level:3},{value:"POST /portfolio/construct",id:"post-portfolioconstruct",level:2},{value:"Request",id:"request-3",level:3},{value:"Request Body",id:"request-body",level:3},{value:"Config Object",id:"config-object",level:3},{value:"Constraints Object",id:"constraints-object",level:3},{value:"Response",id:"response-3",level:3},{value:"Weighting Modes",id:"weighting-modes",level:2},{value:"1. Equal Weight (equal)",id:"1-equal-weight-equal",level:3},{value:"2. Score-Based (score_based)",id:"2-score-based-score_based",level:3},{value:"3. Risk Parity (risk_parity)",id:"3-risk-parity-risk_parity",level:3},{value:"\uc81c\uc57d\uc870\uac74 \uc801\uc6a9",id:"\uc81c\uc57d\uc870\uac74-\uc801\uc6a9",level:2},{value:"Max Weight Constraint",id:"max-weight-constraint",level:3},{value:"Min Weight Constraint",id:"min-weight-constraint",level:3},{value:"Sector Weight Constraint",id:"sector-weight-constraint",level:3},{value:"\uc5d0\ub7ec \ucf54\ub4dc",id:"\uc5d0\ub7ec-\ucf54\ub4dc",level:2},{value:"\uc0ac\uc6a9 \uc608\uc2dc",id:"\uc0ac\uc6a9-\uc608\uc2dc",level:2},{value:"Python: \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uad6c\uc131 \ubc0f \ub9ac\ubc38\ub7f0\uc2f1",id:"python-\ud3ec\ud2b8\ud3f4\ub9ac\uc624-\uad6c\uc131-\ubc0f-\ub9ac\ubc38\ub7f0\uc2f1",level:3},{value:"Go: \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ube44\uad50",id:"go-\ud3ec\ud2b8\ud3f4\ub9ac\uc624-\ube44\uad50",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"portfolio-api",children:"Portfolio API"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"S5 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uad6c\uc131 \ubc0f \uad00\ub9ac API"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc5d4\ub4dc\ud3ec\uc778\ud2b8-\ubaa9\ub85d",children:"\uc5d4\ub4dc\ud3ec\uc778\ud2b8 \ubaa9\ub85d"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\uba54\uc11c\ub4dc"}),(0,s.jsx)(n.th,{children:"\uacbd\ub85c"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"GET"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/portfolio/target"})}),(0,s.jsx)(n.td,{children:"\ubaa9\ud45c \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uc870\ud68c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"GET"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/portfolio/holdings"})}),(0,s.jsx)(n.td,{children:"\ud604\uc7ac \ubcf4\uc720 \uc885\ubaa9 \uc870\ud68c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"GET"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/portfolio/diff"})}),(0,s.jsx)(n.td,{children:"\ub9ac\ubc38\ub7f0\uc2f1 \ucc28\uc774 \uacc4\uc0b0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"POST"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/portfolio/construct"})}),(0,s.jsx)(n.td,{children:"\ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uad6c\uc131 \uc2e4\ud589"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"get-portfoliotarget",children:"GET /portfolio/target"}),"\n",(0,s.jsx)(n.p,{children:"\ubaa9\ud45c \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uc870\ud68c"}),"\n",(0,s.jsx)(n.h3,{id:"request",children:"Request"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -H "Authorization: Bearer YOUR_KEY" \\\n     "http://localhost:8080/api/v1/portfolio/target?date=2024-01-15"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\ud30c\ub77c\ubbf8\ud130"}),(0,s.jsx)(n.th,{children:"\ud0c0\uc785"}),(0,s.jsx)(n.th,{children:"\ud544\uc218"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"date"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"\ub0a0\uc9dc (\uae30\ubcf8: \ucd5c\uc2e0)"})]})})]}),"\n",(0,s.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "date": "2024-01-15",\n    "total_positions": 20,\n    "total_weight": 0.95,\n    "cash_reserve": 0.05,\n    "positions": [\n      {\n        "code": "005930",\n        "name": "\uc0bc\uc131\uc804\uc790",\n        "weight": 0.08,\n        "target_qty": 15,\n        "action": "BUY",\n        "reason": "Rank 1, Strong flow signal (0.92)"\n      },\n      {\n        "code": "000660",\n        "name": "SK\ud558\uc774\ub2c9\uc2a4",\n        "weight": 0.075,\n        "target_qty": 8,\n        "action": "BUY",\n        "reason": "Rank 2, High momentum (0.78)"\n      },\n      ...\n    ],\n    "config": {\n      "max_positions": 20,\n      "max_weight": 0.15,\n      "min_weight": 0.03,\n      "weighting_mode": "equal"\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"get-portfolioholdings",children:"GET /portfolio/holdings"}),"\n",(0,s.jsx)(n.p,{children:"\ud604\uc7ac \ubcf4\uc720 \uc885\ubaa9 \uc870\ud68c"}),"\n",(0,s.jsx)(n.h3,{id:"request-1",children:"Request"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -H "Authorization: Bearer YOUR_KEY" \\\n     "http://localhost:8080/api/v1/portfolio/holdings?date=2024-01-15"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"response-1",children:"Response"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "date": "2024-01-15",\n    "total_value": 100000000,\n    "cash": 5000000,\n    "holdings": [\n      {\n        "code": "005930",\n        "name": "\uc0bc\uc131\uc804\uc790",\n        "quantity": 138,\n        "avg_price": 72500,\n        "current_price": 73200,\n        "market_value": 10101600,\n        "weight": 0.101,\n        "unrealized_pnl": 96600,\n        "unrealized_pnl_pct": 0.0097\n      },\n      ...\n    ]\n  }\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"get-portfoliodiff",children:"GET /portfolio/diff"}),"\n",(0,s.jsx)(n.p,{children:"\ub9ac\ubc38\ub7f0\uc2f1 \ucc28\uc774 \uacc4\uc0b0"}),"\n",(0,s.jsx)(n.p,{children:"\ubaa9\ud45c \ud3ec\ud2b8\ud3f4\ub9ac\uc624\uc640 \ud604\uc7ac \ubcf4\uc720 \uc885\ubaa9\uc758 \ucc28\uc774\ub97c \uacc4\uc0b0"}),"\n",(0,s.jsx)(n.h3,{id:"request-2",children:"Request"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -H "Authorization: Bearer YOUR_KEY" \\\n     "http://localhost:8080/api/v1/portfolio/diff?date=2024-01-15"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"response-2",children:"Response"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "date": "2024-01-15",\n    "turnover": 0.32,\n    "actions": [\n      {\n        "code": "005930",\n        "name": "\uc0bc\uc131\uc804\uc790",\n        "action": "BUY",\n        "current_qty": 138,\n        "target_qty": 150,\n        "diff_qty": 12,\n        "diff_value": 878400,\n        "reason": "Increase weight 10.1% \u2192 15%"\n      },\n      {\n        "code": "035720",\n        "name": "\uce74\uce74\uc624",\n        "action": "SELL",\n        "current_qty": 85,\n        "target_qty": 0,\n        "diff_qty": -85,\n        "diff_value": -4250000,\n        "reason": "Exit: Dropped from top 20"\n      },\n      {\n        "code": "000660",\n        "name": "SK\ud558\uc774\ub2c9\uc2a4",\n        "action": "HOLD",\n        "current_qty": 80,\n        "target_qty": 80,\n        "diff_qty": 0,\n        "diff_value": 0,\n        "reason": "Maintain position"\n      }\n    ],\n    "summary": {\n      "buy_count": 8,\n      "sell_count": 5,\n      "hold_count": 7,\n      "total_buy_value": 15000000,\n      "total_sell_value": 12000000\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"post-portfolioconstruct",children:"POST /portfolio/construct"}),"\n",(0,s.jsx)(n.p,{children:"\ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uad6c\uc131 \uc2e4\ud589"}),"\n",(0,s.jsx)(n.h3,{id:"request-3",children:"Request"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST \\\n     -H "Authorization: Bearer YOUR_KEY" \\\n     -H "Content-Type: application/json" \\\n     -d \'{\n       "date": "2024-01-15",\n       "config": {\n         "max_positions": 20,\n         "max_weight": 0.15,\n         "min_weight": 0.03,\n         "cash_reserve": 0.05,\n         "weighting_mode": "equal"\n       },\n       "constraints": {\n         "max_sector_weight": 0.30,\n         "blacklist": ["000000", "111111"]\n       }\n     }\' \\\n     http://localhost:8080/api/v1/portfolio/construct\n'})}),"\n",(0,s.jsx)(n.h3,{id:"request-body",children:"Request Body"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\ud544\ub4dc"}),(0,s.jsx)(n.th,{children:"\ud0c0\uc785"}),(0,s.jsx)(n.th,{children:"\ud544\uc218"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"date"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"\uad6c\uc131 \ub0a0\uc9dc"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"config"})}),(0,s.jsx)(n.td,{children:"object"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"\ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uc124\uc815"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"constraints"})}),(0,s.jsx)(n.td,{children:"object"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"\uc81c\uc57d\uc870\uac74"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"config-object",children:"Config Object"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\ud544\ub4dc"}),(0,s.jsx)(n.th,{children:"\ud0c0\uc785"}),(0,s.jsx)(n.th,{children:"\uae30\ubcf8\uac12"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"max_positions"})}),(0,s.jsx)(n.td,{children:"int"}),(0,s.jsx)(n.td,{children:"20"}),(0,s.jsx)(n.td,{children:"\ucd5c\ub300 \uc885\ubaa9 \uc218"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"max_weight"})}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"0.15"}),(0,s.jsx)(n.td,{children:"\uc885\ubaa9\ub2f9 \ucd5c\ub300 \ube44\uc911 (15%)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"min_weight"})}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"0.03"}),(0,s.jsx)(n.td,{children:"\uc885\ubaa9\ub2f9 \ucd5c\uc18c \ube44\uc911 (3%)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"cash_reserve"})}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"0.05"}),(0,s.jsx)(n.td,{children:"\ud604\uae08 \ubcf4\uc720 \ube44\uc911 (5%)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"weighting_mode"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:'"equal"'}),(0,s.jsx)(n.td,{children:'\ube44\uc911 \ubc29\uc2dd: "equal", "score_based", "risk_parity"'})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"constraints-object",children:"Constraints Object"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\ud544\ub4dc"}),(0,s.jsx)(n.th,{children:"\ud0c0\uc785"}),(0,s.jsx)(n.th,{children:"\uae30\ubcf8\uac12"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"max_sector_weight"})}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"0.30"}),(0,s.jsx)(n.td,{children:"\uc139\ud130\ub2f9 \ucd5c\ub300 \ube44\uc911 (30%)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"blacklist"})}),(0,s.jsx)(n.td,{children:"[]string"}),(0,s.jsx)(n.td,{children:"[]"}),(0,s.jsx)(n.td,{children:"\uc81c\uc678 \uc885\ubaa9 \ub9ac\uc2a4\ud2b8"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"response-3",children:"Response"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "job_id": "portfolio_construct_20240115_143052",\n    "status": "COMPLETED",\n    "result": {\n      "total_positions": 20,\n      "total_weight": 0.95,\n      "cash_reserve": 0.05,\n      "positions": [ ... ]\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"weighting-modes",children:"Weighting Modes"}),"\n",(0,s.jsx)(n.h3,{id:"1-equal-weight-equal",children:"1. Equal Weight (equal)"}),"\n",(0,s.jsx)(n.p,{children:"\ubaa8\ub4e0 \uc885\ubaa9\uc5d0 \ub3d9\uc77c\ud55c \ube44\uc911 \ud560\ub2f9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"available = 1.0 - cash_reserve\nweight_per_stock = available / total_stocks\n\n\uc608: 20\uac1c \uc885\ubaa9, 5% \ud604\uae08\ubcf4\uc720\n\u2192 \uac01 \uc885\ubaa9 4.75% (0.95 / 20)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-score-based-score_based",children:"2. Score-Based (score_based)"}),"\n",(0,s.jsx)(n.p,{children:"\uc2dc\uadf8\ub110 \uc810\uc218\uc5d0 \ube44\ub840\ud558\uc5ec \ube44\uc911 \ud560\ub2f9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"normalized_score = (total_score + 1.0) / 2.0  // -1~1 \u2192 0~1\nweight = (normalized_score / sum_of_scores) * available\n\n\uc608:\n\uc885\ubaa9 A: score 0.8 \u2192 normalized 0.9\n\uc885\ubaa9 B: score 0.6 \u2192 normalized 0.8\n\u2192 A\uac00 B\ubcf4\ub2e4 \ub192\uc740 \ube44\uc911\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-risk-parity-risk_parity",children:"3. Risk Parity (risk_parity)"}),"\n",(0,s.jsx)(n.p,{children:"\ubcc0\ub3d9\uc131 \uc5ed\ube44\ub840 \ube44\uc911 \ud560\ub2f9 (\ud5a5\ud6c4 \uad6c\ud604 \uc608\uc815)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"weight_i = (1/volatility_i) / sum(1/volatility)\n\n\ubcc0\ub3d9\uc131 \ub0ae\uc740 \uc885\ubaa9\uc5d0 \ub354 \ub192\uc740 \ube44\uc911\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc81c\uc57d\uc870\uac74-\uc801\uc6a9",children:"\uc81c\uc57d\uc870\uac74 \uc801\uc6a9"}),"\n",(0,s.jsx)(n.h3,{id:"max-weight-constraint",children:"Max Weight Constraint"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"IF weight > max_weight:\n    weight = max_weight\n"})}),"\n",(0,s.jsx)(n.h3,{id:"min-weight-constraint",children:"Min Weight Constraint"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"IF weight < min_weight:\n    exclude from portfolio\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sector-weight-constraint",children:"Sector Weight Constraint"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sector_total = sum(weights in sector)\nIF sector_total > max_sector_weight:\n    scale down proportionally\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc5d0\ub7ec-\ucf54\ub4dc",children:"\uc5d0\ub7ec \ucf54\ub4dc"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\ucf54\ub4dc"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"}),(0,s.jsx)(n.th,{children:"\ud574\uacb0"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"NO_RANKED_STOCKS"})}),(0,s.jsx)(n.td,{children:"\ub7ad\ud0b9 \ub370\uc774\ud130 \uc5c6\uc74c"}),(0,s.jsx)(n.td,{children:"\ub7ad\ud0b9 \uba3c\uc800 \uc2e4\ud589"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"INVALID_WEIGHTS"})}),(0,s.jsx)(n.td,{children:"\uc798\ubabb\ub41c \uac00\uc911\uce58 \uc124\uc815"}),(0,s.jsx)(n.td,{children:"0.0 ~ 1.0 \ubc94\uc704 \ud655\uc778"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"INSUFFICIENT_STOCKS"})}),(0,s.jsx)(n.td,{children:"\uc885\ubaa9 \uc218 \ubd80\uc871"}),(0,s.jsx)(n.td,{children:"min_weight \ub610\ub294 \ud544\ud130 \uc870\uc815"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"CONSTRAINT_VIOLATION"})}),(0,s.jsx)(n.td,{children:"\uc81c\uc57d\uc870\uac74 \uc704\ubc18"}),(0,s.jsx)(n.td,{children:"\uc81c\uc57d\uc870\uac74 \ud655\uc778"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc0ac\uc6a9-\uc608\uc2dc",children:"\uc0ac\uc6a9 \uc608\uc2dc"}),"\n",(0,s.jsx)(n.h3,{id:"python-\ud3ec\ud2b8\ud3f4\ub9ac\uc624-\uad6c\uc131-\ubc0f-\ub9ac\ubc38\ub7f0\uc2f1",children:"Python: \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uad6c\uc131 \ubc0f \ub9ac\ubc38\ub7f0\uc2f1"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import requests\n\nAPI_KEY = "YOUR_KEY"\nBASE_URL = "http://localhost:8080/api/v1"\nheaders = {"Authorization": f"Bearer {API_KEY}"}\n\n# 1. \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uad6c\uc131\nconstruct_payload = {\n    "date": "2024-01-15",\n    "config": {\n        "max_positions": 20,\n        "weighting_mode": "score_based",\n        "cash_reserve": 0.05\n    }\n}\n\nresponse = requests.post(\n    f"{BASE_URL}/portfolio/construct",\n    json=construct_payload,\n    headers=headers\n)\ntarget = response.json()["data"]["result"]\nprint(f"Target Portfolio: {target[\'total_positions\']} positions")\n\n# 2. \ud604\uc7ac \ubcf4\uc720 \uc885\ubaa9 \uc870\ud68c\nresponse = requests.get(\n    f"{BASE_URL}/portfolio/holdings?date=2024-01-15",\n    headers=headers\n)\nholdings = response.json()["data"]["holdings"]\n\n# 3. \ub9ac\ubc38\ub7f0\uc2f1 \ucc28\uc774 \uacc4\uc0b0\nresponse = requests.get(\n    f"{BASE_URL}/portfolio/diff?date=2024-01-15",\n    headers=headers\n)\ndiff = response.json()["data"]\nprint(f"Turnover: {diff[\'turnover\']:.2%}")\n\n# 4. \ub9e4\uc218/\ub9e4\ub3c4 \uc561\uc158 \ucd94\ucd9c\nbuy_actions = [a for a in diff["actions"] if a["action"] == "BUY"]\nsell_actions = [a for a in diff["actions"] if a["action"] == "SELL"]\n\nprint(f"BUY: {len(buy_actions)} stocks")\nprint(f"SELL: {len(sell_actions)} stocks")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"go-\ud3ec\ud2b8\ud3f4\ub9ac\uc624-\ube44\uad50",children:"Go: \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ube44\uad50"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'client := aegis.NewClient("YOUR_KEY")\n\n// Target portfolio\ntarget, err := client.Portfolio.GetTarget(ctx, "2024-01-15")\nif err != nil {\n    log.Fatal(err)\n}\n\n// Current holdings\nholdings, err := client.Portfolio.GetHoldings(ctx, "2024-01-15")\nif err != nil {\n    log.Fatal(err)\n}\n\n// Calculate rebalancing needs\ndiff, err := client.Portfolio.GetDiff(ctx, "2024-01-15")\nif err != nil {\n    log.Fatal(err)\n}\n\nfmt.Printf("Turnover: %.2f%%\\n", diff.Turnover*100)\nfor _, action := range diff.Actions {\n    if action.Action == "BUY" {\n        fmt.Printf("BUY %s: %d shares\\n", action.Code, action.DiffQty)\n    }\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Prev"}),": ",(0,s.jsx)(n.a,{href:"/aegis-v13/docs/guide/api/selection-api",children:"Selection API"}),"\n",(0,s.jsx)(n.strong,{children:"Next"}),": ",(0,s.jsx)(n.a,{href:"/aegis-v13/docs/guide/api/execution-api",children:"Execution API"})]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453(e,n,i){i.d(n,{R:()=>d,x:()=>l});var t=i(6540);const s={},r=t.createContext(s);function d(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);