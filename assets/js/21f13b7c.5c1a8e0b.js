"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[598],{3566(e,n,r){r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>t,default:()=>o,frontMatter:()=>c,metadata:()=>d,toc:()=>a});const d=JSON.parse('{"id":"guide/backend/forecast-layer","title":"Forecast Layer","description":"\uc774\ubca4\ud2b8 \uae30\ubc18 \uc608\uce21 \uc2dc\uc2a4\ud15c","source":"@site/docs/guide/backend/forecast-layer.md","sourceDirName":"guide/backend","slug":"/guide/backend/forecast-layer","permalink":"/aegis-v13/docs/guide/backend/forecast-layer","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9,"title":"Forecast Layer","description":"\uc774\ubca4\ud2b8 \uae30\ubc18 \uc608\uce21 \uc2dc\uc2a4\ud15c"},"sidebar":"guideSidebar","previous":{"title":"Infrastructure","permalink":"/aegis-v13/docs/guide/backend/infrastructure"},"next":{"title":"External APIs","permalink":"/aegis-v13/docs/guide/backend/external-apis"}}');var s=r(4848),l=r(8453);const c={sidebar_position:9,title:"Forecast Layer",description:"\uc774\ubca4\ud2b8 \uae30\ubc18 \uc608\uce21 \uc2dc\uc2a4\ud15c"},t="Forecast Layer",i={},a=[{value:"Overview",id:"overview",level:2},{value:"\ud575\uc2ec \uae30\ub2a5",id:"\ud575\uc2ec-\uae30\ub2a5",level:3},{value:"\uc774\ubca4\ud2b8 \ud0c0\uc785",id:"\uc774\ubca4\ud2b8-\ud0c0\uc785",level:2},{value:"E1_SURGE (\uae09\ub4f1)",id:"e1_surge-\uae09\ub4f1",level:3},{value:"E2_GAP_SURGE (\uac2d+\uae09\ub4f1)",id:"e2_gap_surge-\uac2d\uae09\ub4f1",level:3},{value:"\ud30c\uc77c \uad6c\uc870",id:"\ud30c\uc77c-\uad6c\uc870",level:2},{value:"\ud0c0\uc785 \uc815\uc758",id:"\ud0c0\uc785-\uc815\uc758",level:2},{value:"ForecastEvent",id:"forecastevent",level:3},{value:"ForwardPerformance",id:"forwardperformance",level:3},{value:"ForecastStats",id:"forecaststats",level:3},{value:"4\ub2e8\uacc4 \ud3f4\ubc31 \uacc4\uce35",id:"4\ub2e8\uacc4-\ud3f4\ubc31-\uacc4\uce35",level:2},{value:"\ud3f4\ubc31 \uc870\uac74",id:"\ud3f4\ubc31-\uc870\uac74",level:3},{value:"\ubca0\uc774\uc9c0\uc548 \uc218\ucd95",id:"\ubca0\uc774\uc9c0\uc548-\uc218\ucd95",level:2},{value:"\uc2e0\ub8b0\ub3c4 \uacc4\uc0b0",id:"\uc2e0\ub8b0\ub3c4-\uacc4\uc0b0",level:3},{value:"CLI \uba85\ub839\uc5b4",id:"cli-\uba85\ub839\uc5b4",level:2},{value:"\uc804\uccb4 \ud30c\uc774\ud504\ub77c\uc778",id:"\uc804\uccb4-\ud30c\uc774\ud504\ub77c\uc778",level:3},{value:"\uac1c\ubcc4 \ub2e8\uacc4",id:"\uac1c\ubcc4-\ub2e8\uacc4",level:3},{value:"\uc608\uce21 \uc870\ud68c",id:"\uc608\uce21-\uc870\ud68c",level:3},{value:"\uc2a4\ucf00\uc904\ub7ec \ub4f1\ub85d",id:"\uc2a4\ucf00\uc904\ub7ec-\ub4f1\ub85d",level:2},{value:"\uc2a4\ucf00\uc904",id:"\uc2a4\ucf00\uc904",level:3},{value:"\uc2e4\ud589 \uc21c\uc11c",id:"\uc2e4\ud589-\uc21c\uc11c",level:3},{value:"\uc2a4\ucf00\uc904\ub7ec \uba85\ub839\uc5b4",id:"\uc2a4\ucf00\uc904\ub7ec-\uba85\ub839\uc5b4",level:3},{value:"Job \uad6c\ud604",id:"job-\uad6c\ud604",level:3},{value:"DB \uc2a4\ud0a4\ub9c8",id:"db-\uc2a4\ud0a4\ub9c8",level:2},{value:"analytics.forecast_events",id:"analyticsforecast_events",level:3},{value:"analytics.forward_performance",id:"analyticsforward_performance",level:3},{value:"analytics.forecast_stats",id:"analyticsforecast_stats",level:3},{value:"\uc0ac\uc6a9 \uc608\uc2dc",id:"\uc0ac\uc6a9-\uc608\uc2dc",level:2},{value:"\uc774\ubca4\ud2b8 \uac10\uc9c0",id:"\uc774\ubca4\ud2b8-\uac10\uc9c0",level:3},{value:"\uc804\ubc29 \uc131\uacfc \uacc4\uc0b0",id:"\uc804\ubc29-\uc131\uacfc-\uacc4\uc0b0",level:3},{value:"\ud1b5\uacc4 \uc9d1\uacc4",id:"\ud1b5\uacc4-\uc9d1\uacc4",level:3},{value:"\uc608\uce21 \uc0dd\uc131",id:"\uc608\uce21-\uc0dd\uc131",level:3},{value:"S3/S4 \ud1b5\ud569 (\uc120\ud0dd)",id:"s3s4-\ud1b5\ud569-\uc120\ud0dd",level:2},{value:"S3 Screener \ud544\ud130",id:"s3-screener-\ud544\ud130",level:3},{value:"S4 Ranker \uc810\uc218",id:"s4-ranker-\uc810\uc218",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"forecast-layer",children:"Forecast Layer"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\uac00\uaca9 \ud328\ud134 \uae30\ubc18 \uc774\ubca4\ud2b8 \uac10\uc9c0 \ubc0f \uc608\uce21 \uc2dc\uc2a4\ud15c"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Forecast \ubaa8\ub4c8\uc740 v10\uc758 \uc774\ubca4\ud2b8 \uae30\ubc18 \uc608\uce21 \uc2dc\uc2a4\ud15c\uc744 v13 \uc544\ud0a4\ud14d\ucc98\uc5d0 \ub9de\uac8c \uc7ac\uad6c\ud604\ud55c \uac83\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.h3,{id:"\ud575\uc2ec-\uae30\ub2a5",children:"\ud575\uc2ec \uae30\ub2a5"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\uae30\ub2a5"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\uc774\ubca4\ud2b8 \uac10\uc9c0"})}),(0,s.jsx)(n.td,{children:"E1(\uae09\ub4f1), E2(\uac2d+\uae09\ub4f1) \ud328\ud134 \uac10\uc9c0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\uc804\ubc29 \uc131\uacfc \ucd94\uc801"})}),(0,s.jsx)(n.td,{children:"\uc774\ubca4\ud2b8 \ud6c4 5\uac70\ub798\uc77c \uc218\uc775\ub960/MDD \ucd94\uc801"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\ud1b5\uacc4 \uc9d1\uacc4"})}),(0,s.jsx)(n.td,{children:"4\ub2e8\uacc4 \ud3f4\ubc31 \uacc4\uce35 \ud1b5\uacc4"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\uc608\uce21 \uc0dd\uc131"})}),(0,s.jsx)(n.td,{children:"\ubca0\uc774\uc9c0\uc548 \uc218\ucd95 \uae30\ubc18 \uc608\uce21"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc774\ubca4\ud2b8-\ud0c0\uc785",children:"\uc774\ubca4\ud2b8 \ud0c0\uc785"}),"\n",(0,s.jsx)(n.h3,{id:"e1_surge-\uae09\ub4f1",children:"E1_SURGE (\uae09\ub4f1)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\uc870\uac74: dayReturn >= 3.5% AND closeToHigh >= 0.4\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"dayReturn"}),": \ub2f9\uc77c \uc218\uc775\ub960 ",(0,s.jsx)(n.code,{children:"(close - prev_close) / prev_close"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"closeToHigh"}),": \uace0\uac00 \ub300\ube44 \uc885\uac00 \uc704\uce58 ",(0,s.jsx)(n.code,{children:"(close - low) / (high - low)"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"e2_gap_surge-\uac2d\uae09\ub4f1",children:"E2_GAP_SURGE (\uac2d+\uae09\ub4f1)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\uc870\uac74: E1 \uc870\uac74 AND gapRatio >= 1.5%\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gapRatio"}),": \uac2d \ube44\uc728 ",(0,s.jsx)(n.code,{children:"(open - prev_close) / prev_close"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ud30c\uc77c-\uad6c\uc870",children:"\ud30c\uc77c \uad6c\uc870"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"internal/forecast/\n\u251c\u2500\u2500 detector.go      # \uc774\ubca4\ud2b8 \uac10\uc9c0\n\u251c\u2500\u2500 tracker.go       # \uc804\ubc29 \uc131\uacfc \ucd94\uc801\n\u251c\u2500\u2500 aggregator.go    # \ud1b5\uacc4 \uc9d1\uacc4\n\u251c\u2500\u2500 predictor.go     # \uc608\uce21 \uc0dd\uc131\n\u2514\u2500\u2500 repository.go    # DB \uc800\uc7a5\uc18c\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ud0c0\uc785-\uc815\uc758",children:"\ud0c0\uc785 \uc815\uc758"}),"\n",(0,s.jsx)(n.h3,{id:"forecastevent",children:"ForecastEvent"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"type ForecastEvent struct {\n    ID              int64\n    Code            string\n    Date            time.Time\n    EventType       ForecastEventType  // E1_SURGE, E2_GAP_SURGE\n    DayReturn       float64            // \ub2f9\uc77c \uc218\uc775\ub960\n    CloseToHigh     float64            // \uace0\uac00 \ub300\ube44 \uc885\uac00 (0~1)\n    GapRatio        float64            // \uac2d \ube44\uc728\n    VolumeZScore    float64            // \uac70\ub798\ub7c9 z-score\n    Sector          string\n    MarketCapBucket string             // small/mid/large\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"forwardperformance",children:"ForwardPerformance"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"type ForwardPerformance struct {\n    EventID       int64\n    FwdRet1D      float64  // t+1 \uc218\uc775\ub960\n    FwdRet2D      float64  // t+2 \uc218\uc775\ub960\n    FwdRet3D      float64  // t+3 \uc218\uc775\ub960\n    FwdRet5D      float64  // t+5 \uc218\uc775\ub960\n    MaxRunup5D    float64  // 5\uc77c \ucd5c\ub300 \uc0c1\uc2b9\n    MaxDrawdown5D float64  // 5\uc77c \ucd5c\ub300 \ud558\ub77d\n    GapHold3D     bool     // 3\uc77c\uac04 \uac2d \uc720\uc9c0\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"forecaststats",children:"ForecastStats"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"type ForecastStats struct {\n    Level       ForecastStatsLevel  // SYMBOL/SECTOR/BUCKET/MARKET\n    Key         string              // \uc885\ubaa9\ucf54\ub4dc/\uc139\ud130\uba85/\ubc84\ud0b7\uba85/ALL\n    EventType   ForecastEventType\n    SampleCount int\n    AvgRet1D    float64\n    AvgRet5D    float64\n    WinRate1D   float64  // 1\uc77c \ud6c4 \uc591\uc218 \ube44\uc728\n    WinRate5D   float64  // 5\uc77c \ud6c4 \uc591\uc218 \ube44\uc728\n    P10MDD      float64  // \ud558\uc704 10% MDD\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"4\ub2e8\uacc4-\ud3f4\ubc31-\uacc4\uce35",children:"4\ub2e8\uacc4 \ud3f4\ubc31 \uacc4\uce35"}),"\n",(0,s.jsx)(n.p,{children:"\uc608\uce21 \uc2dc \uc0d8\ud50c \uc218\uac00 \ubd80\uc871\ud558\uba74 \ub2e4\uc74c \ub808\ubca8\ub85c \ud3f4\ubc31\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"1. SYMBOL  \u2192 \ud574\ub2f9 \uc885\ubaa9\uc758 \uacfc\uac70 \uc774\ubca4\ud2b8 \ud1b5\uacc4\n2. SECTOR  \u2192 \uac19\uc740 \uc139\ud130 \uc885\ubaa9\ub4e4\uc758 \ud1b5\uacc4\n3. BUCKET  \u2192 \uac19\uc740 \uc2dc\uac00\ucd1d\uc561 \uad6c\uac04 (small/mid/large)\n4. MARKET  \u2192 \uc804\uccb4 \uc2dc\uc7a5 \ud3c9\uade0\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\ud3f4\ubc31-\uc870\uac74",children:"\ud3f4\ubc31 \uc870\uac74"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uc0d8\ud50c \uc218 < 5 \u2192 \ub2e4\uc74c \ub808\ubca8\ub85c \ud3f4\ubc31"}),"\n",(0,s.jsx)(n.li,{children:"MARKET \ub808\ubca8\uc740 \ud56d\uc0c1 \uc874\uc7ac"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ubca0\uc774\uc9c0\uc548-\uc218\ucd95",children:"\ubca0\uc774\uc9c0\uc548 \uc218\ucd95"}),"\n",(0,s.jsx)(n.p,{children:"\uc18c\ud45c\ubcf8 \ud3b8\ud5a5\uc744 \ubcf4\uc815\ud558\uae30 \uc704\ud574 \ubca0\uc774\uc9c0\uc548 \uc218\ucd95\uc744 \uc801\uc6a9\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"// K = 10 (\uc218\ucd95 \uac15\ub3c4)\nweight := n / (n + K)\nshrunkReturn := weight * sampleMean + (1-weight) * marketMean\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uc2e0\ub8b0\ub3c4-\uacc4\uc0b0",children:"\uc2e0\ub8b0\ub3c4 \uacc4\uc0b0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"confidence := min(1.0, sampleCount / 30.0)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"cli-\uba85\ub839\uc5b4",children:"CLI \uba85\ub839\uc5b4"}),"\n",(0,s.jsx)(n.h3,{id:"\uc804\uccb4-\ud30c\uc774\ud504\ub77c\uc778",children:"\uc804\uccb4 \ud30c\uc774\ud504\ub77c\uc778"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"go run ./cmd/quant forecast run --from 2024-01-01\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uac1c\ubcc4-\ub2e8\uacc4",children:"\uac1c\ubcc4 \ub2e8\uacc4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# 1. \uc774\ubca4\ud2b8 \uac10\uc9c0\ngo run ./cmd/quant forecast detect --from 2024-01-01 --to 2024-12-31\n\n# 2. \uc804\ubc29 \uc131\uacfc \ucc44\uc6b0\uae30\ngo run ./cmd/quant forecast fill-forward\n\n# 3. \ud1b5\uacc4 \uc9d1\uacc4\ngo run ./cmd/quant forecast aggregate\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uc608\uce21-\uc870\ud68c",children:"\uc608\uce21 \uc870\ud68c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"go run ./cmd/quant forecast predict --code 005930\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc2a4\ucf00\uc904\ub7ec-\ub4f1\ub85d",children:"\uc2a4\ucf00\uc904\ub7ec \ub4f1\ub85d"}),"\n",(0,s.jsxs)(n.p,{children:["Forecast \ud30c\uc774\ud504\ub77c\uc778\uc740 \uc2a4\ucf00\uc904\ub7ec\uc5d0 ",(0,s.jsx)(n.code,{children:"forecast_pipeline"})," \uc791\uc5c5\uc73c\ub85c \ub4f1\ub85d\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.h3,{id:"\uc2a4\ucf00\uc904",children:"\uc2a4\ucf00\uc904"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\uc791\uc5c5\uba85"}),(0,s.jsx)(n.th,{children:"\uc2e4\ud589 \uc2dc\uac04"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"forecast_pipeline"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\ub9e4\uc77c 18:30"})}),(0,s.jsx)(n.td,{children:"Universe \uc0dd\uc131 \ud6c4 \uc2e4\ud589"})]})})]}),"\n",(0,s.jsx)(n.h3,{id:"\uc2e4\ud589-\uc21c\uc11c",children:"\uc2e4\ud589 \uc21c\uc11c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"16:00 - data_collection (\ub370\uc774\ud130 \uc218\uc9d1)\n17:00 - investor_flow (\ud22c\uc790\uc790 \uc218\uae09)\n18:00 - universe_generation (Universe \uc0dd\uc131)\n18:30 - forecast_pipeline (\uc774\ubca4\ud2b8 \uac10\uc9c0/\uc608\uce21) \u2b50\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uc2a4\ucf00\uc904\ub7ec-\uba85\ub839\uc5b4",children:"\uc2a4\ucf00\uc904\ub7ec \uba85\ub839\uc5b4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \uc2a4\ucf00\uc904\ub7ec \uc2dc\uc791 (\ubaa8\ub4e0 \uc791\uc5c5 \ub4f1\ub85d)\ngo run ./cmd/quant scheduler start\n\n# \ub4f1\ub85d\ub41c \uc791\uc5c5 \ubaa9\ub85d \ud655\uc778\ngo run ./cmd/quant scheduler list\n\n# forecast_pipeline \uc989\uc2dc \uc2e4\ud589\ngo run ./cmd/quant scheduler run forecast_pipeline\n\n# \uc791\uc5c5 \uc0c1\ud0dc \ud655\uc778\ngo run ./cmd/quant scheduler status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"job-\uad6c\ud604",children:"Job \uad6c\ud604"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// internal/scheduler/jobs/forecast.go\ntype ForecastJob struct {\n    pool   *pgxpool.Pool\n    logger *logger.Logger\n}\n\nfunc (j *ForecastJob) Name() string {\n    return "forecast_pipeline"\n}\n\nfunc (j *ForecastJob) Schedule() string {\n    return "0 30 18 * * *"  // \ub9e4\uc77c 18:30\n}\n\nfunc (j *ForecastJob) Run(ctx context.Context) error {\n    // 1. Event Detection\n    // 2. Fill Forward Performance\n    // 3. Aggregate Statistics\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"db-\uc2a4\ud0a4\ub9c8",children:"DB \uc2a4\ud0a4\ub9c8"}),"\n",(0,s.jsx)(n.h3,{id:"analyticsforecast_events",children:"analytics.forecast_events"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\uceec\ub7fc"}),(0,s.jsx)(n.th,{children:"\ud0c0\uc785"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"id"})}),(0,s.jsx)(n.td,{children:"BIGSERIAL"}),(0,s.jsx)(n.td,{children:"PK"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"code"})}),(0,s.jsx)(n.td,{children:"VARCHAR(20)"}),(0,s.jsx)(n.td,{children:"\uc885\ubaa9\ucf54\ub4dc"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"event_date"})}),(0,s.jsx)(n.td,{children:"DATE"}),(0,s.jsx)(n.td,{children:"\uc774\ubca4\ud2b8 \ubc1c\uc0dd\uc77c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"event_type"})}),(0,s.jsx)(n.td,{children:"VARCHAR(20)"}),(0,s.jsx)(n.td,{children:"E1_SURGE, E2_GAP_SURGE"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"day_return"})}),(0,s.jsx)(n.td,{children:"NUMERIC(8,4)"}),(0,s.jsx)(n.td,{children:"\ub2f9\uc77c \uc218\uc775\ub960"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"close_to_high"})}),(0,s.jsx)(n.td,{children:"NUMERIC(8,4)"}),(0,s.jsx)(n.td,{children:"\uace0\uac00 \ub300\ube44 \uc885\uac00"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gap_ratio"})}),(0,s.jsx)(n.td,{children:"NUMERIC(8,4)"}),(0,s.jsx)(n.td,{children:"\uac2d \ube44\uc728"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"volume_z_score"})}),(0,s.jsx)(n.td,{children:"NUMERIC(8,2)"}),(0,s.jsx)(n.td,{children:"\uac70\ub798\ub7c9 z-score"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"sector"})}),(0,s.jsx)(n.td,{children:"VARCHAR(50)"}),(0,s.jsx)(n.td,{children:"\uc139\ud130"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"market_cap_bucket"})}),(0,s.jsx)(n.td,{children:"VARCHAR(10)"}),(0,s.jsx)(n.td,{children:"small/mid/large"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"analyticsforward_performance",children:"analytics.forward_performance"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\uceec\ub7fc"}),(0,s.jsx)(n.th,{children:"\ud0c0\uc785"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"event_id"})}),(0,s.jsx)(n.td,{children:"BIGINT"}),(0,s.jsx)(n.td,{children:"FK \u2192 forecast_events"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"fwd_ret_1d"})," ~ ",(0,s.jsx)(n.code,{children:"fwd_ret_5d"})]}),(0,s.jsx)(n.td,{children:"NUMERIC(8,4)"}),(0,s.jsx)(n.td,{children:"\uc804\ubc29 \uc218\uc775\ub960"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"max_runup_5d"})}),(0,s.jsx)(n.td,{children:"NUMERIC(8,4)"}),(0,s.jsx)(n.td,{children:"5\uc77c \ucd5c\ub300 \uc0c1\uc2b9"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"max_drawdown_5d"})}),(0,s.jsx)(n.td,{children:"NUMERIC(8,4)"}),(0,s.jsx)(n.td,{children:"5\uc77c \ucd5c\ub300 \ud558\ub77d"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gap_hold_3d"})}),(0,s.jsx)(n.td,{children:"BOOLEAN"}),(0,s.jsx)(n.td,{children:"\uac2d \uc720\uc9c0 \uc5ec\ubd80"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"analyticsforecast_stats",children:"analytics.forecast_stats"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\uceec\ub7fc"}),(0,s.jsx)(n.th,{children:"\ud0c0\uc785"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"level"})}),(0,s.jsx)(n.td,{children:"VARCHAR(10)"}),(0,s.jsx)(n.td,{children:"SYMBOL/SECTOR/BUCKET/MARKET"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"key"})}),(0,s.jsx)(n.td,{children:"VARCHAR(50)"}),(0,s.jsx)(n.td,{children:"\ub808\ubca8\ubcc4 \ud0a4"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"event_type"})}),(0,s.jsx)(n.td,{children:"VARCHAR(20)"}),(0,s.jsx)(n.td,{children:"\uc774\ubca4\ud2b8 \ud0c0\uc785"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"sample_count"})}),(0,s.jsx)(n.td,{children:"INT"}),(0,s.jsx)(n.td,{children:"\uc0d8\ud50c \uc218"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"avg_ret_*"})}),(0,s.jsx)(n.td,{children:"NUMERIC(8,4)"}),(0,s.jsx)(n.td,{children:"\ud3c9\uade0 \uc218\uc775\ub960"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"win_rate_*"})}),(0,s.jsx)(n.td,{children:"NUMERIC(5,4)"}),(0,s.jsx)(n.td,{children:"\uc2b9\ub960"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"p10_mdd"})}),(0,s.jsx)(n.td,{children:"NUMERIC(8,4)"}),(0,s.jsx)(n.td,{children:"\ud558\uc704 10% MDD"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc0ac\uc6a9-\uc608\uc2dc",children:"\uc0ac\uc6a9 \uc608\uc2dc"}),"\n",(0,s.jsx)(n.h3,{id:"\uc774\ubca4\ud2b8-\uac10\uc9c0",children:"\uc774\ubca4\ud2b8 \uac10\uc9c0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"detector := forecast.NewDetector(log)\nevents := detector.DetectEvents(ctx, priceDataList, volumeStatsMap)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uc804\ubc29-\uc131\uacfc-\uacc4\uc0b0",children:"\uc804\ubc29 \uc131\uacfc \uacc4\uc0b0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"tracker := forecast.NewTracker(log)\nperf := tracker.CalculateForwardPerformance(ctx, eventID, baseClose, forwardPrices)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\ud1b5\uacc4-\uc9d1\uacc4",children:"\ud1b5\uacc4 \uc9d1\uacc4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"aggregator := forecast.NewAggregator(log)\nstats := aggregator.AggregateAll(ctx, eventsWithPerformance)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uc608\uce21-\uc0dd\uc131",children:"\uc608\uce21 \uc0dd\uc131"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"predictor := forecast.NewPredictor(repository, log)\nprediction, _ := predictor.Predict(ctx, event)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"s3s4-\ud1b5\ud569-\uc120\ud0dd",children:"S3/S4 \ud1b5\ud569 (\uc120\ud0dd)"}),"\n",(0,s.jsx)(n.h3,{id:"s3-screener-\ud544\ud130",children:"S3 Screener \ud544\ud130"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"// P10 MDD\uac00 -10% \uc774\ub0b4\uc778 \uc885\ubaa9\ub9cc \ud1b5\uacfc\nMinP10MDD: -0.10\n"})}),"\n",(0,s.jsx)(n.h3,{id:"s4-ranker-\uc810\uc218",children:"S4 Ranker \uc810\uc218"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"// \uae30\ub300 \uc218\uc775\ub960 \uae30\ubc18 \uac00\uc0b0\uc810\nEventForecastWeight: 0.10  // 10% \uac00\uc911\uce58\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Prev"}),": ",(0,s.jsx)(n.a,{href:"/aegis-v13/docs/guide/backend/audit-layer",children:"Audit Layer"})]})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453(e,n,r){r.d(n,{R:()=>c,x:()=>t});var d=r(6540);const s={},l=d.createContext(s);function c(e){const n=d.useContext(l);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),d.createElement(l.Provider,{value:n},e.children)}}}]);