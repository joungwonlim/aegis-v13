<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guide/backend/folder-structure" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Folder Structure | Aegis v13</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://joungwonlim.github.io/aegis-v13/img/aegis-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://joungwonlim.github.io/aegis-v13/img/aegis-social-card.jpg"><meta data-rh="true" property="og:url" content="https://joungwonlim.github.io/aegis-v13/docs/guide/backend/folder-structure"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Folder Structure | Aegis v13"><meta data-rh="true" name="description" content="Go BFF 폴더 구조와 SSOT"><meta data-rh="true" property="og:description" content="Go BFF 폴더 구조와 SSOT"><link data-rh="true" rel="icon" href="/aegis-v13/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://joungwonlim.github.io/aegis-v13/docs/guide/backend/folder-structure"><link data-rh="true" rel="alternate" href="https://joungwonlim.github.io/aegis-v13/docs/guide/backend/folder-structure" hreflang="ko"><link data-rh="true" rel="alternate" href="https://joungwonlim.github.io/aegis-v13/docs/guide/backend/folder-structure" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Folder Structure","item":"https://joungwonlim.github.io/aegis-v13/docs/guide/backend/folder-structure"}]}</script><link rel="stylesheet" href="/aegis-v13/assets/css/styles.0eb6a739.css">
<script src="/aegis-v13/assets/js/runtime~main.4c932a31.js" defer="defer"></script>
<script src="/aegis-v13/assets/js/main.e59c5e1e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/aegis-v13/img/logo.svg"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="메인" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="사이드바 펼치거나 접기" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/aegis-v13/"><div class="navbar__logo"><img src="/aegis-v13/img/logo.svg" alt="Aegis Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/aegis-v13/img/logo.svg" alt="Aegis Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Aegis v13</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aegis-v13/docs/guide/overview/introduction">Guide</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/joungwonlim/aegis-v13" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="문서 사이드바" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/aegis-v13/docs/guide/overview/introduction"><span title="Overview" class="categoryLinkLabel_W154">Overview</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/overview/introduction"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/overview/tech-stack"><span title="Tech Stack" class="linkLabel_WmDU">Tech Stack</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/overview/getting-started"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/overview/development-schedule"><span title="Development Schedule" class="linkLabel_WmDU">Development Schedule</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/aegis-v13/docs/guide/architecture/system-overview"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/architecture/system-overview"><span title="System Overview" class="linkLabel_WmDU">System Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/architecture/data-flow"><span title="Data Flow" class="linkLabel_WmDU">Data Flow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/architecture/contracts"><span title="Contracts" class="linkLabel_WmDU">Contracts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/architecture/data-requirements"><span title="Data Requirements" class="linkLabel_WmDU">Data Requirements</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/aegis-v13/docs/guide/strategy/stock-selection"><span title="Strategy" class="categoryLinkLabel_W154">Strategy</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/strategy/stock-selection"><span title="종목 선정 전략 설계" class="linkLabel_WmDU">종목 선정 전략 설계</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/strategy/exit-rules"><span title="청산규칙 (Exit Rules)" class="linkLabel_WmDU">청산규칙 (Exit Rules)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/strategy/implementation-spec"><span title="strategyconfig 구현 명세서" class="linkLabel_WmDU">strategyconfig 구현 명세서</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/strategy/verification-checklist"><span title="strategyconfig 구현 검증 체크리스트" class="linkLabel_WmDU">strategyconfig 구현 검증 체크리스트</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/aegis-v13/docs/guide/backend/folder-structure"><span title="Backend" class="categoryLinkLabel_W154">Backend</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/aegis-v13/docs/guide/backend/folder-structure"><span title="Folder Structure" class="linkLabel_WmDU">Folder Structure</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/backend/data-layer"><span title="Data Layer" class="linkLabel_WmDU">Data Layer</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/backend/signals-layer"><span title="Signals Layer" class="linkLabel_WmDU">Signals Layer</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/backend/selection-layer"><span title="Selection Layer" class="linkLabel_WmDU">Selection Layer</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/backend/portfolio-layer"><span title="Portfolio Layer" class="linkLabel_WmDU">Portfolio Layer</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/backend/execution-layer"><span title="Execution Layer" class="linkLabel_WmDU">Execution Layer</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/backend/audit-layer"><span title="Audit Layer" class="linkLabel_WmDU">Audit Layer</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/backend/infrastructure"><span title="Infrastructure" class="linkLabel_WmDU">Infrastructure</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/backend/forecast-layer"><span title="Forecast Layer" class="linkLabel_WmDU">Forecast Layer</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/backend/external-apis"><span title="External APIs" class="linkLabel_WmDU">External APIs</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/aegis-v13/docs/guide/api/overview"><span title="API Reference" class="categoryLinkLabel_W154">API Reference</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/api/overview"><span title="API Overview" class="linkLabel_WmDU">API Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/api/signals-api"><span title="Signals API" class="linkLabel_WmDU">Signals API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/api/selection-api"><span title="Selection API" class="linkLabel_WmDU">Selection API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/api/portfolio-api"><span title="Portfolio API" class="linkLabel_WmDU">Portfolio API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/api/execution-api"><span title="Execution API" class="linkLabel_WmDU">Execution API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/api/trading-api"><span title="Trading API" class="linkLabel_WmDU">Trading API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/api/audit-api"><span title="Audit API" class="linkLabel_WmDU">Audit API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/api/errors"><span title="Error Codes" class="linkLabel_WmDU">Error Codes</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aegis-v13/docs/guide/frontend/folder-structure"><span title="Frontend" class="categoryLinkLabel_W154">Frontend</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/aegis-v13/docs/guide/ui/design-system"><span title="User Interface" class="categoryLinkLabel_W154">User Interface</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/ui/design-system"><span title="Design System" class="linkLabel_WmDU">Design System</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/ui/foundation"><span title="Foundation" class="linkLabel_WmDU">Foundation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aegis-v13/docs/guide/ui/components"><span title="Components" class="linkLabel_WmDU">Components</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aegis-v13/docs/guide/database/schema-design"><span title="Database" class="categoryLinkLabel_W154">Database</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aegis-v13/docs/guide/migration/v10-to-v13"><span title="Migration" class="categoryLinkLabel_W154">Migration</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="탐색 경로"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/aegis-v13/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Backend</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Folder Structure</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>Backend Folder Structure</h1></header>
<blockquote>
<p>Go BFF 아키텍처와 SSOT 원칙</p>
</blockquote>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="bff-backend-for-frontend-개념">BFF (Backend For Frontend) 개념<a href="#bff-backend-for-frontend-개념" class="hash-link" aria-label="BFF (Backend For Frontend) 개념에 대한 직접 링크" title="BFF (Backend For Frontend) 개념에 대한 직접 링크" translate="no">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">┌─────────────┐</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   Next.js   │  ← 프론트엔드는 Go BFF만 호출</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└──────┬──────┘</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       │ HTTP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       ▼</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">┌─────────────┐</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   Go BFF    │  ← 모든 비즈니스 로직은 여기서</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├─────────────┤</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • API 집계  │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 데이터 가공│</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 인증/인가 │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 캐싱      │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└──────┬──────┘</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       ▼</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">┌─────────────┬─────────────┬─────────────┐</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ PostgreSQL  │    Redis    │ KIS/DART API│</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└─────────────┴─────────────┴─────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bff가-해결하는-문제">BFF가 해결하는 문제<a href="#bff가-해결하는-문제" class="hash-link" aria-label="BFF가 해결하는 문제에 대한 직접 링크" title="BFF가 해결하는 문제에 대한 직접 링크" translate="no">​</a></h3>
<table><thead><tr><th>문제</th><th>BFF 해결책</th></tr></thead><tbody><tr><td>프론트에서 여러 API 호출</td><td>BFF가 집계해서 1개 응답</td></tr><tr><td>API 키 노출 위험</td><td>BFF에서만 외부 API 호출</td></tr><tr><td>데이터 가공 중복</td><td>BFF에서 한번만 가공</td></tr><tr><td>타입 불일치</td><td>BFF에서 표준 타입으로 변환</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ssot-single-source-of-truth-원칙">SSOT (Single Source of Truth) 원칙<a href="#ssot-single-source-of-truth-원칙" class="hash-link" aria-label="SSOT (Single Source of Truth) 원칙에 대한 직접 링크" title="SSOT (Single Source of Truth) 원칙에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="-금지-패턴">❌ 금지 패턴<a href="#-금지-패턴" class="hash-link" aria-label="❌ 금지 패턴에 대한 직접 링크" title="❌ 금지 패턴에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// handler에서 직접 env 읽기 - 금지!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">h </span><span class="token operator">*</span><span class="token plain">Handler</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">GetStocks</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">w http</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ResponseWriter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> r </span><span class="token operator">*</span><span class="token plain">http</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    apiKey </span><span class="token operator">:=</span><span class="token plain"> os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Getenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;KIS_API_KEY&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ❌ SSOT 위반</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// service에서 직접 DB 연결 - 금지!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">NewService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain">Service </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token boolean">_</span><span class="token plain"> </span><span class="token operator">:=</span><span class="token plain"> pgx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Connect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Getenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;DB_URL&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ❌ SSOT 위반</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="-올바른-패턴">✅ 올바른 패턴<a href="#-올바른-패턴" class="hash-link" aria-label="✅ 올바른 패턴에 대한 직접 링크" title="✅ 올바른 패턴에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// config에서만 env 읽기</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> Config </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    KISApiKey </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">`env:&quot;KIS_API_KEY&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    DBUrl     </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">`env:&quot;DB_URL&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 의존성 주입</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">NewService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cfg </span><span class="token operator">*</span><span class="token plain">Config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> db </span><span class="token operator">*</span><span class="token plain">pgxpool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Pool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain">Service </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">Service</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">cfg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> cfg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ✅ SSOT 준수</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ssot-책임-매핑">SSOT 책임 매핑<a href="#ssot-책임-매핑" class="hash-link" aria-label="SSOT 책임 매핑에 대한 직접 링크" title="SSOT 책임 매핑에 대한 직접 링크" translate="no">​</a></h2>
<table><thead><tr><th>책임</th><th>허용 위치</th><th>금지</th></tr></thead><tbody><tr><td><strong>환경변수</strong></td><td><code>pkg/config/</code></td><td>다른 곳에서 <code>os.Getenv()</code></td></tr><tr><td><strong>DB 연결</strong></td><td><code>pkg/database/</code></td><td>다른 곳에서 <code>pgx.Connect()</code></td></tr><tr><td><strong>HTTP 클라이언트</strong></td><td><code>pkg/httputil/</code></td><td>다른 곳에서 <code>http.Client{}</code></td></tr><tr><td><strong>로깅</strong></td><td><code>pkg/logger/</code></td><td>다른 곳에서 <code>log.Println()</code></td></tr><tr><td><strong>캐시/레이트리밋</strong></td><td><code>pkg/redis/</code></td><td>다른 곳에서 직접 Redis 연결</td></tr><tr><td><strong>외부 API</strong></td><td><code>internal/external/</code></td><td>다른 레이어에서 직접 호출</td></tr><tr><td><strong>타입 정의</strong></td><td><code>internal/contracts/</code></td><td>레이어마다 중복 정의</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="폴더-구조">폴더 구조<a href="#폴더-구조" class="hash-link" aria-label="폴더 구조에 대한 직접 링크" title="폴더 구조에 대한 직접 링크" translate="no">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">backend/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── cmd/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── quant/                # ⭐ 통합 CLI 진입점</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│       ├── main.go           # 메인 엔트리포인트</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│       └── commands/         # 서브커맨드</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│           ├── root.go       # Root command</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│           ├── format.go     # 공통 포맷팅 유틸리티 (SSOT)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│           ├── api.go        # API 서버</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│           ├── fetcher.go    # 데이터 수집</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│           ├── worker.go     # 백그라운드 워커</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│           └── scheduler.go  # 스케줄러</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── config/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── strategy/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│       └── korea_equity_v13.yaml  # ⭐ 전략 설정 SSOT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── internal/                  # 비공개 비즈니스 로직</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── contracts/            # ⭐ 타입/인터페이스 SSOT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── pipeline.go       # Stage enum (S0~S7 SSOT 정의) ⭐</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── data.go           # DataQualitySnapshot (S0→S1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── universe.go       # Universe (S1→S2)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── signals.go        # SignalSet, StockSignals (S2→S3/S4)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── ranked.go         # RankedStock (S4→S5)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── portfolio.go      # TargetPortfolio (S5→S6) - TargetValue 기반</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── order.go          # Order (S6→Broker)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── audit.go          # PerformanceReport (S7)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── forecast.go       # ForecastEvent, ForecastStats (예측)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── interfaces.go     # 7단계 인터페이스</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── brain/                # ⭐ 오케스트레이터</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── orchestrator.go   # S0→S7 파이프라인 조율</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── s0_data/              # S0: 데이터 품질</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── quality/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   │   ├── validator.go  # 품질 검증</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   │   └── validator_test.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── collector/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   │   └── collector.go  # 데이터 수집</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── repository.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── s1_universe/          # S1: 유니버스</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── builder.go        # 투자 가능 종목 추출</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── builder_test.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── repository.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── s2_signals/           # S2: 시그널 레이어</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── momentum.go       # 모멘텀 (1M, 3M, 거래량)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── technical.go      # 기술적 (RSI, MACD, MA)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── value.go          # 밸류 (PER, PBR, PSR)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── quality.go        # 퀄리티 (ROE, 부채비율)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── flow.go           # 수급 (외인/기관 순매수)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── event.go          # 이벤트 (공시, 배당)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── builder.go        # SignalBuilder 통합</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── repository.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── selection/            # S3-S4: 스크리닝/랭킹</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── screener.go       # S3: 하드컷 필터링</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── ranker.go         # S4: 가중치 기반 랭킹</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── repository.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── portfolio/            # S5: 포트폴리오 구성</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── constructor.go    # 포트폴리오 생성</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── constraints.go    # 제약조건 적용</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── repository.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── forecast/             # 이벤트 기반 예측</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── detector.go       # E1/E2 이벤트 감지</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── tracker.go        # 전방 성과 추적</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── aggregator.go     # 4단계 폴백 통계</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── predictor.go      # 베이지안 예측</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── repository.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── execution/            # S6: 주문 실행</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── planner.go        # 주문 계획</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── broker.go         # 브로커 연동</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── monitor.go        # 실행 모니터링</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── repository.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── audit/                # S7: 성과 분석</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── performance.go    # 수익률/리스크 분석</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── attribution.go    # 팩터별 기여도</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── snapshot.go       # 스냅샷 저장</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── repository.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── backtest/             # ⭐ 백테스트 프레임워크</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── engine.go         # 백테스트 엔진</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── simulator.go      # 주문 시뮬레이션</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── scheduler/            # 스케줄러</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── scheduler.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── jobs/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── realtime/             # 실시간 데이터 (미완성)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── broker/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── cache/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── feed/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── queue/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── external/             # ⭐ 외부 API SSOT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── dart/             # DART API (공시)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── naver/            # Naver (시세/수급)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── krx/              # KRX (시장 데이터)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── api/                  # HTTP 핸들러</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   ├── router.go</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │   └── handlers/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── data/                 # 데이터 유틸리티</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── pkg/                      # ⭐ 공용 패키지 SSOT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── config/               # 환경변수 (SSOT)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── database/             # DB 연결 (SSOT)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── redis/                # 캐시/레이트리밋 (SSOT)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── logger/               # 로깅 (SSOT)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── httputil/             # HTTP 클라이언트 (SSOT)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── migrations/               # DB 마이그레이션</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── Makefile</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="레이어별-파일-수">레이어별 파일 수<a href="#레이어별-파일-수" class="hash-link" aria-label="레이어별 파일 수에 대한 직접 링크" title="레이어별 파일 수에 대한 직접 링크" translate="no">​</a></h2>
<table><thead><tr><th>레이어</th><th>파일 수</th><th>역할</th><th>상태</th></tr></thead><tbody><tr><td>contracts</td><td>8</td><td>타입/인터페이스 정의</td><td>✅ 완성</td></tr><tr><td>brain</td><td>1</td><td>오케스트레이터</td><td>✅ 완성</td></tr><tr><td>s0_data</td><td>4</td><td>데이터 품질 검증</td><td>⚠️ 부분 완성</td></tr><tr><td>s1_universe</td><td>3</td><td>유니버스 생성</td><td>✅ 완성</td></tr><tr><td>s2_signals</td><td>8</td><td>6팩터 시그널 생성</td><td>⚠️ 부분 완성</td></tr><tr><td>selection</td><td>3</td><td>스크리닝/랭킹</td><td>✅ 완성</td></tr><tr><td>portfolio</td><td>3</td><td>포트폴리오 구성</td><td>⚠️ 부분 완성</td></tr><tr><td>execution</td><td>4</td><td>주문 실행</td><td>⚠️ 부분 완성</td></tr><tr><td>audit</td><td>4</td><td>성과 분석</td><td>✅ 완성</td></tr><tr><td>backtest</td><td>2</td><td>백테스트 프레임워크</td><td>⚠️ 부분 완성</td></tr><tr><td>external</td><td>6</td><td>외부 API (DART, Naver, KRX)</td><td>✅ 완성</td></tr><tr><td><strong>Total</strong></td><td><strong>~47</strong></td><td>7,500+ 라인</td><td></td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="7단계-파이프라인-흐름">7단계 파이프라인 흐름<a href="#7단계-파이프라인-흐름" class="hash-link" aria-label="7단계 파이프라인 흐름에 대한 직접 링크" title="7단계 파이프라인 흐름에 대한 직접 링크" translate="no">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│                           Brain Orchestrator                                 │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│                     (internal/brain/orchestrator.go)                        │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                    │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ┌───────────────────────────┼───────────────────────────┐</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ▼                           ▼                           ▼</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">┌───────────────┐           ┌───────────────┐           ┌───────────────┐</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   S0: Data    │──────────▶│  S1: Universe │──────────▶│  S2: Signals  │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   Quality     │           │   Builder     │           │   Builder     │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───────────────┤           ├───────────────┤           ├───────────────┤</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 커버리지 검증│           │ • 시총 필터   │           │ • Momentum    │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 품질 점수   │           │ • 거래대금    │           │ • Technical   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 필수 데이터 │           │ • 관리종목 제외│           │ • Value       │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│               │           │ • 거래정지 제외│           │ • Quality     │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│               │           │               │           │ • Flow        │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│               │           │               │           │ • Event       │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───────────────┘           └───────────────┘           └───────────────┘</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        │                           │                           │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        │ DataQualitySnapshot       │ Universe                  │ SignalSet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ▼                           ▼                           ▼</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">┌───────────────┐           ┌───────────────┐           ┌───────────────┐</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│  S3: Screener │──────────▶│  S4: Ranker   │──────────▶│ S5: Portfolio │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───────────────┤           ├───────────────┤           ├───────────────┤</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 모멘텀 컷   │           │ • 가중치 적용 │           │ • Top-N 선정  │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • PER/PBR 컷  │           │ • 종합 점수   │           │ • 비중 계산   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • ROE 컷      │           │ • 순위 정렬   │           │ • 제약조건    │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 수급 컷     │           │               │           │ • 현금 비중   │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───────────────┘           └───────────────┘           └───────────────┘</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        │                           │                           │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        │ screened[]                │ RankedStock[]             │ TargetPortfolio</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ▼                           ▼                           ▼</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">┌───────────────┐           ┌───────────────┐</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ S6: Execution │──────────▶│  S7: Audit    │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───────────────┤           ├───────────────┤</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 수량 계산⭐  │           │ • 수익률 분석 │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 주문 생성   │           │ • 리스크 지표 │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 매도 우선   │           │ • 팩터 기여도 │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 슬리피지    │           │ • 벤치마크    │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ • 분할 주문   │           │               │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───────────────┘           └───────────────┘</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        │                           │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        │ Order[]                   │ PerformanceReport</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ▼                           ▼</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [Broker]                   [Dashboard]</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="데이터-흐름-상세">데이터 흐름 상세<a href="#데이터-흐름-상세" class="hash-link" aria-label="데이터 흐름 상세에 대한 직접 링크" title="데이터 흐름 상세에 대한 직접 링크" translate="no">​</a></h2>
<table><thead><tr><th>단계</th><th>입력</th><th>출력</th><th>핵심 로직</th></tr></thead><tbody><tr><td><strong>S0</strong></td><td>Raw Data</td><td><code>DataQualitySnapshot</code></td><td>커버리지 ≥ 70% 검증</td></tr><tr><td><strong>S1</strong></td><td>S0 결과</td><td><code>Universe</code> (종목 리스트)</td><td>시총/거래대금/관리종목 필터</td></tr><tr><td><strong>S2</strong></td><td>Universe</td><td><code>SignalSet</code> (6팩터)</td><td>각 팩터 -1.0~1.0 정규화</td></tr><tr><td><strong>S3</strong></td><td>SignalSet</td><td><code>screened[]</code></td><td>하드컷 조건 적용</td></tr><tr><td><strong>S4</strong></td><td>screened + SignalSet</td><td><code>RankedStock[]</code></td><td>가중합 점수 계산, 정렬</td></tr><tr><td><strong>S5</strong></td><td>RankedStock[]</td><td><code>TargetPortfolio</code></td><td>Top-20, 비중 배분</td></tr><tr><td><strong>S6</strong></td><td>TargetPortfolio</td><td><code>Order[]</code></td><td>Diff 계산, 주문 생성</td></tr><tr><td><strong>S7</strong></td><td>실행 결과</td><td><code>PerformanceReport</code></td><td>수익률/리스크/기여도</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="import-규칙">Import 규칙<a href="#import-규칙" class="hash-link" aria-label="Import 규칙에 대한 직접 링크" title="Import 규칙에 대한 직접 링크" translate="no">​</a></h2>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// ✅ 허용: 상위 → 하위</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;internal/contracts&quot;</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)">// 모든 레이어에서 OK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;pkg/config&quot;</span><span class="token plain">             </span><span class="token comment" style="color:rgb(98, 114, 164)">// 모든 곳에서 OK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ✅ 허용: 같은 레벨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;internal/data&quot;</span><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)">// brain에서 OK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ❌ 금지: 하위 → 상위</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;internal/brain&quot;</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)">// data에서 금지!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ❌ 금지: 순환 참조</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// signals ↔ selection 서로 import 금지</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="통합-cli-사용법">통합 CLI 사용법<a href="#통합-cli-사용법" class="hash-link" aria-label="통합 CLI 사용법에 대한 직접 링크" title="통합 CLI 사용법에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="실행-방식-v10과-동일">실행 방식 (v10과 동일)<a href="#실행-방식-v10과-동일" class="hash-link" aria-label="실행 방식 (v10과 동일)에 대한 직접 링크" title="실행 방식 (v10과 동일)에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 개발 모드</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">command</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 빌드 후</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">make</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/quant </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">command</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="커맨드-목록">커맨드 목록<a href="#커맨드-목록" class="hash-link" aria-label="커맨드 목록에 대한 직접 링크" title="커맨드 목록에 대한 직접 링크" translate="no">​</a></h3>
<table><thead><tr><th>커맨드</th><th>용도</th><th>예시</th></tr></thead><tbody><tr><td><code>api</code></td><td>API 서버 실행</td><td><code>go run ./cmd/quant api --port 8089</code></td></tr><tr><td><code>fetcher</code></td><td>데이터 수집 (KIS, DART, Naver)</td><td><code>go run ./cmd/quant fetcher collect all</code></td></tr><tr><td><code>worker</code></td><td>백그라운드 워커 시작</td><td><code>go run ./cmd/quant worker start</code></td></tr><tr><td><code>status</code></td><td>큐 상태 모니터링</td><td><code>go run ./cmd/quant status start</code></td></tr><tr><td><code>test-db</code></td><td>DB 연결 테스트</td><td><code>go run ./cmd/quant test-db</code></td></tr><tr><td><code>test-logger</code></td><td>Logger 테스트</td><td><code>go run ./cmd/quant test-logger</code></td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="예시">예시<a href="#예시" class="hash-link" aria-label="예시에 대한 직접 링크" title="예시에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># API 서버 실행</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant api</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant api </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--port</span><span class="token plain"> </span><span class="token number">8089</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--env</span><span class="token plain"> production</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 데이터 수집</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant fetcher collect </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--source</span><span class="token plain"> kis</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant fetcher collect </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--source</span><span class="token plain"> dart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant fetcher collect </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--source</span><span class="token plain"> naver</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant fetcher collect all</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 백그라운드 워커 (큐 기반 작업 처리)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant worker start</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant worker start </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--concurrency</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 큐 상태 모니터링</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant status start</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant status start </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--refresh</span><span class="token plain"> 2s</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 테스트</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant test-db</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">go run ./cmd/quant test-logger</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 빌드 후 실행</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">make</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/quant api</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/quant fetcher collect all</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/quant worker start</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/quant status start</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="장점">장점<a href="#장점" class="hash-link" aria-label="장점에 대한 직접 링크" title="장점에 대한 직접 링크" translate="no">​</a></h3>
<ol>
<li class=""><strong>통일성</strong>: 모든 명령어가 <code>go run ./cmd/quant ...</code> 패턴</li>
<li class=""><strong>확장성</strong>: 새 커맨드 추가 쉬움 (<code>commands/new.go</code>)</li>
<li class=""><strong>플래그 공유</strong>: 공통 플래그 (<code>--env</code>, <code>--config</code>) 일관성</li>
<li class=""><strong>빌드 단순화</strong>: <code>make build</code> 하나로 전체 빌드</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="공통-포맷팅-formatgo">공통 포맷팅 (format.go)<a href="#공통-포맷팅-formatgo" class="hash-link" aria-label="공통 포맷팅 (format.go)에 대한 직접 링크" title="공통 포맷팅 (format.go)에 대한 직접 링크" translate="no">​</a></h2>
<p>모든 커맨드가 <strong>동일한 출력 형식</strong>을 사용하도록 통일된 포맷팅 유틸리티를 제공합니다.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="job-실행-포맷">Job 실행 포맷<a href="#job-실행-포맷" class="hash-link" aria-label="Job 실행 포맷에 대한 직접 링크" title="Job 실행 포맷에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">═══════════════════════════════════════════════════════════</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Fetch Ranking Data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">───────────────────────────────────────────────────────────</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Job ID    : #653</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Period    : 2025-12-09 ~ 2026-01-09</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Symbols   : all</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">───────────────────────────────────────────────────────────</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Ranking] Manual collection triggered at 21:57:45</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Ranking] Fetched trading/KOSPI: 100 items [1/8]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Ranking] Fetched trading/KOSDAQ: 100 items [2/8]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Ranking] Fetched quantHigh/KOSPI: 100 items [3/8]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">✅ Job #653 completed in 1.62s (100%)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="주요-함수">주요 함수<a href="#주요-함수" class="hash-link" aria-label="주요 함수에 대한 직접 링크" title="주요 함수에 대한 직접 링크" translate="no">​</a></h3>
<table><thead><tr><th>함수</th><th>용도</th></tr></thead><tbody><tr><td><code>PrintJobHeader(meta)</code></td><td>Job 실행 헤더 (ID, Period, Symbols)</td></tr><tr><td><code>PrintProgress(tag, msg, current, total)</code></td><td>진행 상황 표시 [x/y]</td></tr><tr><td><code>PrintJobCompletion(jobID, duration)</code></td><td>완료 메시지</td></tr><tr><td><code>PrintList(items)</code></td><td>항목 리스트 (• bullet)</td></tr><tr><td><code>PrintNumberedList(items)</code></td><td>번호 리스트 (1., 2., ...)</td></tr><tr><td><code>PrintTableHeader/Row(...)</code></td><td>테이블 형식 출력</td></tr><tr><td><code>PrintSeparator()</code></td><td>구분선 (─)</td></tr><tr><td><code>PrintSuccess/Error/Warning(msg)</code></td><td>상태 메시지</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="사용-예시">사용 예시<a href="#사용-예시" class="hash-link" aria-label="사용 예시에 대한 직접 링크" title="사용 예시에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// Worker에서 사용</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">meta </span><span class="token operator">:=</span><span class="token plain"> JobMetadata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    JobID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">     </span><span class="token number">653</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    JobType</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">   </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Fetch Ranking Data&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Tag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">       </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Ranking&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Period</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">GetCurrentPeriod</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Symbols</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">   </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;all&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">PrintJobHeader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 진행 상황 표시</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">steps </span><span class="token operator">:=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Fetch KOSPI&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Fetch KOSDAQ&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">...</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> step </span><span class="token operator">:=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">range</span><span class="token plain"> steps </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">PrintProgress</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Ranking&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> step</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> i</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">len</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">steps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 완료</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">PrintJobCompletion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">jobID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> duration</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="혜택">혜택<a href="#혜택" class="hash-link" aria-label="혜택에 대한 직접 링크" title="혜택에 대한 직접 링크" translate="no">​</a></h3>
<ul>
<li class=""><strong>일관성</strong>: 모든 커맨드가 동일한 출력 형식</li>
<li class=""><strong>가독성</strong>: 명확한 구분자와 진행 카운터 [x/y]</li>
<li class=""><strong>유지보수성</strong>: 포맷 변경 시 <code>format.go</code>만 수정</li>
<li class=""><strong>확장성</strong>: 새 커맨드 추가 시 재사용</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="http-클라이언트-pkghttputil">HTTP 클라이언트 (pkg/httputil)<a href="#http-클라이언트-pkghttputil" class="hash-link" aria-label="HTTP 클라이언트 (pkg/httputil)에 대한 직접 링크" title="HTTP 클라이언트 (pkg/httputil)에 대한 직접 링크" translate="no">​</a></h2>
<p>모든 HTTP 요청은 <strong>pkg/httputil</strong>을 통해서만 수행합니다.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ssot-원칙">SSOT 원칙<a href="#ssot-원칙" class="hash-link" aria-label="SSOT 원칙에 대한 직접 링크" title="SSOT 원칙에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// ❌ 금지: 직접 http.Client 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">client </span><span class="token operator">:=</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">http</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">Timeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Second</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token boolean">_</span><span class="token plain"> </span><span class="token operator">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ✅ 허용: httputil 사용</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">client </span><span class="token operator">:=</span><span class="token plain"> httputil</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">New</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cfg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token boolean">_</span><span class="token plain"> </span><span class="token operator">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="주요-기능">주요 기능<a href="#주요-기능" class="hash-link" aria-label="주요 기능에 대한 직접 링크" title="주요 기능에 대한 직접 링크" translate="no">​</a></h3>
<table><thead><tr><th>기능</th><th>설명</th></tr></thead><tbody><tr><td><strong>타임아웃</strong></td><td>요청별/전체 타임아웃 설정</td></tr><tr><td><strong>재시도</strong></td><td>실패 시 자동 재시도 (지수 백오프)</td></tr><tr><td><strong>로깅</strong></td><td>요청/응답 자동 로깅</td></tr><tr><td><strong>컨텍스트</strong></td><td>context.Context 지원</td></tr><tr><td><strong>Rate Limiting</strong></td><td>API 호출 제한 (선택적)</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="사용-예시-1">사용 예시<a href="#사용-예시-1" class="hash-link" aria-label="사용 예시에 대한 직접 링크" title="사용 예시에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// 1. Client 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">client </span><span class="token operator">:=</span><span class="token plain"> httputil</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">New</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cfg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 2. GET 요청</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> err </span><span class="token operator">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://api.example.com/data&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> err </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token boolean">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> err</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">defer</span><span class="token plain"> resp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Body</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Close</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 3. POST 요청 (JSON)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">data </span><span class="token operator">:=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;key&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;value&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> err </span><span class="token operator">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">PostJSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 4. 재시도 설정</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">WithRetry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token operator">*</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Second</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="재시도-전략">재시도 전략<a href="#재시도-전략" class="hash-link" aria-label="재시도 전략에 대한 직접 링크" title="재시도 전략에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// 지수 백오프 (Exponential Backoff)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 1st retry: 1s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 2nd retry: 2s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 3rd retry: 4s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Max: 3 retries</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">client </span><span class="token operator">:=</span><span class="token plain"> httputil</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewWithRetry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cfg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> httputil</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">RetryConfig</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MaxRetries</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    InitialDelay</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Second</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MaxDelay</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Second</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="혜택-1">혜택<a href="#혜택-1" class="hash-link" aria-label="혜택에 대한 직접 링크" title="혜택에 대한 직접 링크" translate="no">​</a></h3>
<ul>
<li class=""><strong>SSOT</strong>: HTTP Client 생성은 한 곳에서만</li>
<li class=""><strong>일관성</strong>: 모든 외부 API 호출이 동일한 방식</li>
<li class=""><strong>관측성</strong>: 자동 로깅으로 디버깅 쉬움</li>
<li class=""><strong>안정성</strong>: 재시도 로직으로 일시적 오류 대응</li>
</ul>
<hr>
<p><strong>Prev</strong>: <a class="" href="/aegis-v13/docs/guide/architecture/contracts">Contracts</a>
<strong>Next</strong>: <a class="" href="/aegis-v13/docs/guide/backend/data-layer">Data Layer</a></p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/aegis-v13/docs/guide/strategy/verification-checklist"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">strategyconfig 구현 검증 체크리스트</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/aegis-v13/docs/guide/backend/data-layer"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">Data Layer</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#bff-backend-for-frontend-개념" class="table-of-contents__link toc-highlight">BFF (Backend For Frontend) 개념</a><ul><li><a href="#bff가-해결하는-문제" class="table-of-contents__link toc-highlight">BFF가 해결하는 문제</a></li></ul></li><li><a href="#ssot-single-source-of-truth-원칙" class="table-of-contents__link toc-highlight">SSOT (Single Source of Truth) 원칙</a><ul><li><a href="#-금지-패턴" class="table-of-contents__link toc-highlight">❌ 금지 패턴</a></li><li><a href="#-올바른-패턴" class="table-of-contents__link toc-highlight">✅ 올바른 패턴</a></li></ul></li><li><a href="#ssot-책임-매핑" class="table-of-contents__link toc-highlight">SSOT 책임 매핑</a></li><li><a href="#폴더-구조" class="table-of-contents__link toc-highlight">폴더 구조</a></li><li><a href="#레이어별-파일-수" class="table-of-contents__link toc-highlight">레이어별 파일 수</a></li><li><a href="#7단계-파이프라인-흐름" class="table-of-contents__link toc-highlight">7단계 파이프라인 흐름</a></li><li><a href="#데이터-흐름-상세" class="table-of-contents__link toc-highlight">데이터 흐름 상세</a></li><li><a href="#import-규칙" class="table-of-contents__link toc-highlight">Import 규칙</a></li><li><a href="#통합-cli-사용법" class="table-of-contents__link toc-highlight">통합 CLI 사용법</a><ul><li><a href="#실행-방식-v10과-동일" class="table-of-contents__link toc-highlight">실행 방식 (v10과 동일)</a></li><li><a href="#커맨드-목록" class="table-of-contents__link toc-highlight">커맨드 목록</a></li><li><a href="#예시" class="table-of-contents__link toc-highlight">예시</a></li><li><a href="#장점" class="table-of-contents__link toc-highlight">장점</a></li></ul></li><li><a href="#공통-포맷팅-formatgo" class="table-of-contents__link toc-highlight">공통 포맷팅 (format.go)</a><ul><li><a href="#job-실행-포맷" class="table-of-contents__link toc-highlight">Job 실행 포맷</a></li><li><a href="#주요-함수" class="table-of-contents__link toc-highlight">주요 함수</a></li><li><a href="#사용-예시" class="table-of-contents__link toc-highlight">사용 예시</a></li><li><a href="#혜택" class="table-of-contents__link toc-highlight">혜택</a></li></ul></li><li><a href="#http-클라이언트-pkghttputil" class="table-of-contents__link toc-highlight">HTTP 클라이언트 (pkg/httputil)</a><ul><li><a href="#ssot-원칙" class="table-of-contents__link toc-highlight">SSOT 원칙</a></li><li><a href="#주요-기능" class="table-of-contents__link toc-highlight">주요 기능</a></li><li><a href="#사용-예시-1" class="table-of-contents__link toc-highlight">사용 예시</a></li><li><a href="#재시도-전략" class="table-of-contents__link toc-highlight">재시도 전략</a></li><li><a href="#혜택-1" class="table-of-contents__link toc-highlight">혜택</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/aegis-v13/docs/guide/overview/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/aegis-v13/docs/guide/architecture/system-overview">Architecture</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Development</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/aegis-v13/docs/guide/backend/folder-structure">Backend</a></li><li class="footer__item"><a class="footer__link-item" href="/aegis-v13/docs/guide/frontend/folder-structure">Frontend</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/joungwonlim/aegis-v13" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Aegis. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>