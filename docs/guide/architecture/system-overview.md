# System Overview

> 시스템 전체 구조

---

## 전체 아키텍처

```
┌────────────────────────────────────────────────────────────┐
│                        Frontend                            │
│                       (Next.js)                            │
└─────────────────────────┬──────────────────────────────────┘
                          │ HTTP/REST
                          ▼
┌────────────────────────────────────────────────────────────┐
│                     Backend (Go BFF)                       │
│  ┌──────────────────────────────────────────────────────┐  │
│  │                    Brain Orchestrator                │  │
│  │            (파이프라인 조율만, 로직 없음)              │  │
│  └──────────────────────────────────────────────────────┘  │
│                            │                               │
│    ┌───────┬───────┬───────┼───────┬───────┬───────┐      │
│    ▼       ▼       ▼       ▼       ▼       ▼       ▼      │
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐        │
│  │ S0 │→│ S1 │→│ S2 │→│ S3 │→│ S4 │→│ S5 │→│ S6 │        │
│  │Data│ │Univ│ │Sig │ │Scr │ │Rank│ │Port│ │Exec│        │
│  └────┘ └────┘ └────┘ └────┘ └────┘ └────┘ └────┘        │
│                            │                               │
│                            ▼                               │
│                        ┌────┐                              │
│                        │ S7 │                              │
│                        │Audit│                             │
│                        └────┘                              │
└─────────────────────────┬──────────────────────────────────┘
                          │
                          ▼
┌────────────────────────────────────────────────────────────┐
│                   PostgreSQL Database                      │
│   ┌──────┬────────┬──────────┬──────────┬──────┬───────┐  │
│   │ data │signals │selection │portfolio │ exec │ audit │  │
│   └──────┴────────┴──────────┴──────────┴──────┴───────┘  │
└────────────────────────────────────────────────────────────┘
```

---

## 레이어 책임

| Stage | 레이어 | 폴더 | 책임 |
|-------|--------|------|------|
| S0 | Data | `data/` | 원천 데이터 수집, 정제, 품질 검증 |
| S1 | Universe | `data/` | 투자 가능 종목 필터링 |
| S2 | Signals | `signals/` | 팩터/이벤트 시그널 생성 |
| S3 | Screener | `selection/` | 1차 필터링 (Hard Cut) |
| S4 | Ranking | `selection/` | 종합 점수 산출 |
| S5 | Portfolio | `portfolio/` | 포트폴리오 구성 |
| S6 | Execution | `execution/` | 주문 생성/체결 |
| S7 | Audit | `audit/` | 성과 분석 |

---

## 핵심 원칙

### 1. 단방향 데이터 흐름
```
S0 → S1 → S2 → S3 → S4 → S5 → S6
                                 ↓
                                S7 (피드백)
```

### 2. Contract 기반 통신
각 레이어는 **정해진 타입**으로만 데이터 주고받음

### 3. Brain = Orchestrator Only
Brain은 로직 없이 **파이프라인 실행 순서**만 관리

---

**Next**: [Data Flow](./data-flow.md)
